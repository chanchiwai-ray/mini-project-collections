(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{104:function(e,t,n){e.exports={formControl:"CountryPicker_formControl__2p8f9"}},128:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=(n(128),n(6)),d=n(192),s=n(190),u=n(143),l=n(193),j=n(36),h=n(69),f=n.n(h),b=n(95),m=n.n(b),O=n(186),g=n(189),x=n(144),p=n(96),y=n(8),v=function(e){var t=e.end,n=e.duration,a=Object(p.useCountUp)({start:0,end:t,duration:n,separator:","}).countUp;return Object(y.jsx)("span",{children:a})},C=function(e){return Object(y.jsx)(O.a,{className:m.a.container,children:Object(y.jsxs)(g.a,{style:{borderBottom:"8px solid ".concat(e.gutterColor)},children:[Object(y.jsx)(u.a,{color:"textSecondary",children:e.title}),Object(y.jsx)(u.a,{variant:"h3",style:{color:e.textColor},children:Object(y.jsx)(v,{end:e.num,duration:1})}),Object(y.jsx)(u.a,{color:"textSecondary",children:new Date(e.date).toLocaleString("en-GB")})]})})},L=function(e){return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(s.a,{item:!0,xs:12,sm:4,align:"center",children:e.isLoading?Object(y.jsx)(x.a,{}):Object(y.jsx)(C,{title:"Confirmed",textColor:"#ff6d00",gutterColor:"#ff6d00",num:e.data.confirmed.value,date:e.data.lastUpdate})}),Object(y.jsx)(s.a,{item:!0,xs:12,sm:4,align:"center",children:e.isLoading?Object(y.jsx)(x.a,{}):Object(y.jsx)(C,{title:"Deaths",textColor:"#d50000",gutterColor:"#d50000",num:e.data.deaths.value,date:e.data.lastUpdate})}),Object(y.jsx)(s.a,{item:!0,xs:12,sm:4,align:"center",children:e.isLoading?Object(y.jsx)(x.a,{}):Object(y.jsx)(C,{title:"Recovered",textColor:"#64dd17",gutterColor:"#64dd17",num:e.data.recovered.value,date:e.data.lastUpdate})})]})},w=n(47),N=n(98),R=n.n(N),S=n(99),_=function(e){var t=Object(a.useState)({rows:[],columns:[]}),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){if(e.data){var t=[],n=[];if(""===e.country){t=[],n=[{field:"countryRegion",headerName:"Country",width:150},{field:"confirmed",headerName:"Confirmed",width:150},{field:"deaths",headerName:"Deaths",width:150},{field:"recovered",headerName:"Recovered",width:150},{field:"lastUpdate",headerName:"Last Update",width:300}];var a={};e.data.forEach((function(e){e.countryRegion in a?(a[e.countryRegion].confirmed+=e.confirmed,a[e.countryRegion].deaths+=e.deaths,a[e.countryRegion].recovered+=e.recovered):a[e.countryRegion]={uid:e.uid,lastUpdate:new Date(e.lastUpdate).toLocaleString("en-GB"),countryRegion:e.countryRegion,confirmed:e.confirmed,deaths:e.deaths,recovered:e.recovered}})),Object.keys(a).sort((function(e,t){return a[t].confirmed-a[e].confirmed})).forEach((function(e){return t.push(a[e])}))}else t=e.data.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{lastUpdate:new Date(e.lastUpdate).toLocaleString("en-GB")})})),n=[{field:"countryRegion",headerName:"Country",width:150},{field:"provinceState",headerName:"Province",width:150},{field:"confirmed",headerName:"Confirmed",width:150},{field:"deaths",headerName:"Deaths",width:150},{field:"recovered",headerName:"Recovered",width:150},{field:"lastUpdate",headerName:"Last Update",width:300}];c({rows:t,columns:n})}}),[e.data,e.country]),Object(y.jsx)(s.a,{item:!0,xs:12,align:"center",children:Object(y.jsx)("div",{className:R.a.grid,children:e.isLoading?Object(y.jsx)(x.a,{}):Object(y.jsx)(S.a,{rows:r.rows,columns:r.columns,getRowId:function(e){return e.uid},loading:e.isLoading})})})},k=n(102),U=n.n(k),E=n(103),G=n.n(E)()(U.a),D={confirmed:"rgb(255,109,0)",deaths:"rgb(213,0,0)",recovered:"rgb(100,221,23)"},B=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){if(e.data){var t=Object.keys(D).map((function(e){return{x:[],y:[],width:.3,name:e,type:"bar",orientation:"h",marker:{color:D[e]}}}));if(""===e.country){var n={};e.data.forEach((function(e){e.countryRegion in n?(n[e.countryRegion].confirmed+=e.confirmed,n[e.countryRegion].deaths+=e.deaths,n[e.countryRegion].recovered+=e.recovered):n[e.countryRegion]={confirmed:e.confirmed,deaths:e.deaths,recovered:e.recovered}})),Object.keys(n).sort((function(e,t){return Object.values(n[e]).reduce((function(e,t){return e+t}))-Object.values(n[t]).reduce((function(e,t){return e+t}))})).forEach((function(e){t.forEach((function(t,a){t.y.push(e),t.x.push(n[e][t.name.toLowerCase()])}))}))}else e.data.forEach((function(e){var n=e.provinceState||e.countryRegion;t.forEach((function(t){var a=t.name;t.x.unshift(e[a]),t.y.unshift(n)}))}));o(t)}}),[e.data,e.country]),Object(y.jsx)(r.a.Fragment,{children:Object(y.jsx)(s.a,{item:!0,xs:12,align:"center",children:e.isLoading?Object(y.jsx)(x.a,{}):Object(y.jsx)(G,{data:c,layout:{height:1e3,width:1e3,margin:{l:120},type:"bar",orientation:"h",barmode:"stack",title:""===e.country?"Summary of Global Cases":"Summary of ".concat(e.country,"'s Cases")}})})})},A=n(13),F=n(104),I=n.n(F),J=n(85),M=n(55),P=n(100),T=function(e){var t=e.isLoading,n=e.data,r=e.onClick,c=Object(a.useState)({country:""}),o=Object(i.a)(c,2),d=o[0],u=o[1];return Object(y.jsx)(s.a,{children:Object(y.jsxs)(M.a,{className:I.a.formControl,children:[Object(y.jsx)(J.a,{htmlFor:"select-country",children:"Select Country"}),t?Object(y.jsx)(x.a,{}):Object(y.jsxs)(P.a,{id:"select-country",name:"country",value:d.country,onChange:function(e){var t=e.target.name;u(Object(w.a)(Object(w.a)({},d),{},Object(A.a)({},t,e.target.value))),r(e.target.value)},children:[Object(y.jsx)("option",{"aria-label":"None",value:""}),n.countries.map((function(e,t){return Object(y.jsx)("option",{value:e.name,children:e.name},t)}))]})]})})},z=function(e){var t=Object(a.useState)({data:null,isLoading:!0}),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){c((function(e){return{data:e.data,isLoading:!0}})),fetch("https://covid19.mathdro.id/api"+e).then((function(e){return e.json()})).then((function(e){return c({data:e,isLoading:!1})})).catch((function(e){return console.log(e)}))}),[e]),r},H=function(){var e=Object(a.useState)("graph"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),h=o[0],b=o[1],m=z("/countries"),O=z(""===h?"/":"/countries/".concat(h)),g=z(""===h?"/confirmed":"/countries/".concat(h,"/confirmed"));return Object(y.jsxs)(d.a,{className:f.a.container,children:[Object(y.jsx)(s.a,{children:Object(y.jsx)(u.a,{align:"center",variant:"h3",className:f.a.heading,children:"COVID-19 Case Summary"})}),Object(y.jsx)(s.a,{container:!0,justify:"center",children:Object(y.jsx)(T,{isLoading:m.isLoading,data:m.data,onClick:function(e){b(e)}})}),Object(y.jsx)(s.a,{container:!0,justify:"center",children:Object(y.jsx)(L,{isLoading:O.isLoading,data:O.data})}),Object(y.jsx)(s.a,{container:!0,justify:"center",children:Object(y.jsxs)(l.a,{variant:"text",color:"primary","aria-label":"text primary button group",className:f.a.buttonGroup,children:[Object(y.jsx)(j.a,{onClick:function(){return r("table")},children:"Table"}),Object(y.jsx)(j.a,{onClick:function(){return r("graph")},children:"Graph"})]})}),Object(y.jsx)(s.a,{container:!0,justify:"center",children:"graph"===n?Object(y.jsx)(B,{isLoading:g.isLoading,data:g.data,country:h}):Object(y.jsx)(_,{isLoading:g.isLoading,data:g.data,country:h})})]})};o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(H,{})}),document.getElementById("root"))},69:function(e,t,n){e.exports={container:"App_container__1MQN3",heading:"App_heading__2nYdz",buttonGroup:"App_buttonGroup__23NLy"}},95:function(e,t,n){e.exports={container:"Cards_container__3bjn6"}},98:function(e,t,n){e.exports={grid:"CovidGrid_grid__RbHtT"}}},[[139,1,2]]]);
//# sourceMappingURL=main.31485df5.chunk.js.map